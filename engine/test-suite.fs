(  ---------------------------------------------------------  )
(                                                             )
(              Forthkit FORTH-79 Test Suite                   )
(                                                             )
(                                                             )
(  This file is based on the work of many other people, to    )
(  which I am adding a small contribution. If you find this   )
(  useful and make changes, please also share it with the     )
(  world at large[1].                                         )
(                                                             )
(  In particular, this uses a simplification of the standard  )
(  test harness[2], parts of John Hayes'[3] and Gerry         )
(  Jackson's[4] test suites, including innumerable details    )
(  from The Forth Standard website[5], which credits David    )
(  Williams and the members of the Forth 200x committee[6].   )
(                                                             )
(  [1] https://www.gnu.org/licenses/gpl-3.0.en.html           )
(  [2] http://www.forth200x.org/tests/ttester.fs              )
(  [3] https://www.taygeta.com/forth.html                     )
(  [4] http://soton.mpeforth.com/flag/anstests/index.html     )
(  [5] https://forth-standard.org                             )
(  [6] https://forth-standard.org/standard/testsuite          )
(                                                             )
(  This file is formatted into screens of 16 line groups,     )
(  each 64 characters long. Each is a "block" in terms of the )
(  FORTH-79 standard. The first three blocks -- 0, 1 and 2 -- )
(  contain introductory comments. The following blocks hold   )
(  a few definitions not present in FORTH-79, the test        )
(  harness, and then the remaining blocks contain the tests   )
(  themselves. To run the test suite, start f79 with this     )
(  file as the mass storage and then execute                  )
(                                                             )
(     8 load run-all-tests                                    )
(                                                             )
(  To run just a part of the test suite, first load block 4,  )
(  then find the relevant block in the block contents below   )
(  and load that. Loading a test suite block will run the     )
(  tests in the block.                                        )
(                                                             )
(  Block Contents:                                            )
(    0-3 Title, credits, license, contents                    )
(    4   cell cells <> -->                                    )
(    5   start-depth actual-depth actual-results              )
(    6   t{ ->                                                )
(    7   check-results                                        )
(    8   }t                                                   )
(    9   1st 2nd                                              )
(   10   run-all-tests                                        )
(   11   harness tests                                        )
(   12   and not                                              )
(   13   comments tick                                        )
(   14   *                                                    )
(   15   +                                                    )
(   16   here , ! @                                           )
(   17   +!                                                   )
(   18   +loop                                                )
(   19   +loop [continued]                                    )
(   20   +loop [continued]                                    )
(   21   +loop [continued]                                    )
(   22   -                                                    )
(   23                                                        )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(                                                             )
(  ---------------------------------------------------------  )
(  Supplemental Words                                         )
(                                                             )
(  FORTH-79 doesn't have the words "cell" or "cells", since   )
(  since the cell size was defined to be 16 bits. Forthkit    )
(  supports compiling f79 with 16, 32, or 64 bit words.       )
                                                            ( )
here 0 , here - dup allot negate constant cell              ( )
                                                            ( )
: cell+ cell + ;                                            ( )
: cells cell * ;                                            ( )
: char+ 1+ ;                                                ( )
: chars ;                                                   ( )
: <> = 0= ; : invert not ;                                  ( )
: --> blk @ 1+ load ;                                       ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Test Harness Variables                                     )
(                                                             )
(  The test harness captures the depth of the stack before    )
(  the test is run. After the subject code is executed, the   )
(  depth of the stack is checked against this and any new     )
( values are saved for comparison during verification.        )
                                                            ( )
variable start-depth                                        ( )
variable actual-depth                                       ( )
                                                            ( )
create actual-results 32 cells allot                        ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Test Harness Part 1                                        )
(                                                             )
: t{ depth start-depth ! ;                                  ( )
                                                            ( )
: ->                                                        ( )
    depth dup actual-depth !                                ( )
    start-depth @ >                                         ( )
    if                                                      ( )
        depth start-depth @ - 0                             ( )
        do                                                  ( )
            actual-results i cells + !                      ( )
        loop                                                ( )
    then                                                    ( )
;                                                           ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Test Harness Part 2                                        )
(                                                           ( )
: check-results                                             ( )
    depth start-depth @ >                                   ( )
    if                                                      ( )
        depth start-depth @ - 0                             ( )
        do                                                  ( )
            actual-results i cells + @ <>                   ( )
            if                                              ( )
                ." incorrect result"                        ( )
                leave                                       ( )
            then                                            ( )
        loop                                                ( )
    then                                                    ( )
;                                                    -->    ( )
(  ---------------------------------------------------------  )
(  Test Harness Part 3                                        )
(                                                           ( )
: }t                                                        ( )
    depth actual-depth @ =                                  ( )
    if                                                      ( )
        check-results 46 emit                               ( )
    else                                                    ( )
        ." wrong number of results."                        ( )
    then                                                    ( )
    depth start-depth @ >                                   ( )
    if                                                      ( )
        depth start-depth @ do drop loop                    ( )
    then                                                    ( )
                                                            ( )
;                                                    -->    ( )
(  ---------------------------------------------------------  )
(  Constants                                                  )
                                                            ( )
0      0= constant <true>                                   ( )
<true> 0= constant <false>                                  ( )
                                                            ( )
0         constant 0s                                       ( )
-1        constant 1s                                       ( )
                                                            ( )
0 invert                 constant max-uint                  ( )
0 invert 1 rshift        constant max-int                   ( )
0 invert 1 rshift invert constant min-int                   ( )
0 invert 1 rshift        constant mid-uint                  ( )
0 invert 1 rshift invert constant mid-uint+1                ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Constants [continued]                                      )
                                                            ( )
max-int 2 /              constant hi-int                    ( )
min-int 2 /              constant lo-int                    ( )
                                                            ( )
: max-2int 1s max-int ;                                     ( )
: min-2int 0s min-int ;                                     ( )
: hi-2int 1s hi-int ;                                       ( )
: lo-2int 0s lo-int ;                                       ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Comparator Tests                                           )
                                                            ( )
: run-comparator-tests                                      ( )
    ." Comparators: " cr                                    ( )
                                                            ( )
    decimal                                                 ( )
    86 load ( =                 ) 76 load ( <                 )
   100 load ( >                 ) 25 load ( 0=                )
   108 load ( 0<                ) 27 load ( 0>                )
                                                            ( )
                                                            ( )
                                                            ( )
    cr                                                      ( )
;                                                           ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Logic Tests                                                )
                                                            ( )
: run-logic-tests                                           ( )
    ." Logical Operators: " cr                              ( )
                                                            ( )
    decimal                                                 ( )
    28 load ( and not           ) 29 load ( or                )
    30 load ( xor               )                           ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
    cr                                                      ( )
;                                                           ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Arithmetic Tests                                           )
                                                            ( )
: run-arithmetic-tests                                      ( )
    ." Arithmetic Operators: " cr                           ( )
                                                            ( )
    decimal                                                 ( )
    31 load ( +                 ) 32 load ( -                 )
    33 load ( *                 ) 34 load ( /                 )
    36 load ( */                ) 38 load ( /mod              )
    41 load ( 1+ 1-             ) 42 load ( 2+ 2-             )
    43 load ( abs               ) 44 load ( max               )
    45 load ( min               ) 76 load ( negate            )
    96 load ( */mod             ) 98 load ( mod               )
    cr                                                      ( )
;                                                    -->    ( )
(  ---------------------------------------------------------  )
(  Memory Access Tests                                        )
                                                            ( )
: run-memory-access-tests                                   ( )
    ." Memory Access: " cr                                  ( )
                                                            ( )
    decimal                                                 ( )
    46 load ( here , ! @        ) 48 load ( +!                )
    49 load ( c, c! c@          ) 51 load ( cmove             )
    52 load ( fill              ) 53 load ( move              )
                                                            ( )
                                                            ( )
                                                            ( )
     cr                                                     ( )
;                                                           ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Stack Manipulation Tests                                   )
                                                            ( )
: run-stack-word-tests                                      ( )
    ." Stack Words: " cr                                    ( )
                                                            ( )
    decimal                                                 ( )
    54 load ( drop              ) 55 load ( dup               )
    56 load ( over              ) 57 load ( pick              )
    58 load ( roll              ) 59 load ( rot               )
    60 load ( swap              ) 61 load ( ?dup              )
    62 load ( >r r@ r>          ) 63 load ( depth             )
                                                            ( )
     cr                                                     ( )
;                                                           ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Flow Control Tests                                         )
                                                            ( )
: run-flow-control-tests                                    ( )
    ." Flow Control: " cr                                   ( )
                                                            ( )
    decimal                                                 ( )
    64 load ( begin until       ) 65 load ( begin while repeat)
    67 load ( do loop           ) 68 load ( do +loop          )
    72 load ( leave             ) 73 load ( j                 )
    74 load ( if else then      )                           ( )
                                                            ( )
                                                            ( )
    cr                                                      ( )
;                                                           ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Nucleus Double Number Tests                                )
                                                            ( )
: run-double-number-tests                                   ( )
    ." Nucleus Double Number Words: " cr                    ( )
                                                            ( )
    88 load ( d+                ) 79 load ( d<                )
    80 load ( dnegate           )                           ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
    cr                                                      ( )
;                                                           ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
: run-unsigned-number-tests                                 ( )
    ." Unsigned Numbers: " cr                               ( )
                                                            ( )
    82 load ( u<                ) 84 load ( u*                )
    86 load ( u/mod             )                           ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
    cr                                                      ( )
;                                                           ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Defining Word Tests                                        )
                                                            ( )
: run-defining-word-tests                                   ( )
    ." Defining Words: " cr                                 ( )
                                                            ( )
    101 load ( :               ) 102 load ( constant          )
    103 load ( variable        ) 104 load ( does>             )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
    cr                                                      ( )
;                                                           ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Dictionary Word Tests                                      )
                                                            ( )
: run-dictionary-tests                                      ( )
    ." Dictionary Words: " cr                               ( )
                                                            ( )
    106 load ( ' execute       ) 107 load ( find              )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
    cr                                                      ( )
;                                                           ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Number Conversion Tests                                    )
                                                            ( )
: run-number-pattern-tests                                  ( )
    ." Number Patterns: " cr                                ( )
                                                            ( )
    109 load ( hold            ) 110 load ( sign              )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
    cr                                                      ( )
;                                                           ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Suite Control Functions                                    )
                                                            ( )
: run-all-tests                                             ( )
    decimal 81 load             ( run test harness tests      )
    run-comparator-tests        run-logic-tests             ( )
    run-arithmetic-tests        run-memory-access-tests     ( )
    run-stack-word-tests        run-flow-control-tests      ( )
    run-double-number-tests     run-unsigned-number-tests   ( )
    run-defining-word-tests     run-dictionary-tests        ( )
    run-number-pattern-tests                                ( )
                                                            ( )
                                                            ( )
                                                            ( )
  cr                                                        ( )
;                                                           ( )
(  ---------------------------------------------------------  )
(  Core Tests: 0<                                             )
                                                            ( )
." 0< "                                                     ( )
                                                            ( )
    t{       0 0< -> <false> }t                             ( )
    t{      -1 0< -> <true>  }t                             ( )
    t{       1 0< -> <false> }t                             ( )
    t{ min-int 0< -> <true>  }t                             ( )
    t{ max-int 0< -> <false> }t                             ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: 0>                                             )
                                                            ( )
." 0> "                                                     ( )
                                                            ( )
    t{       0 0> -> <false> }t                             ( )
    t{      -1 0> -> <false> }t                             ( )
    t{       1 0> -> <true>  }t                             ( )
    t{ min-int 0> -> <false> }t                             ( )
    t{ max-int 0> -> <true>  }t                             ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: and not                                        )
                                                            ( )
." and not "                                                ( )
                                                            ( )
t{ 0 0 and -> 0 }t                                          ( )
t{ 0 1 and -> 0 }t                                          ( )
t{ 1 0 and -> 0 }t                                          ( )
t{ 1 1 and -> 1 }t                                          ( )
t{ 0 not 1 and -> 1 }t                                      ( )
t{ 1 not 1 and -> 0 }t                                      ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: or                                             )
                                                            ( )
." or "                                                     ( )
                                                            ( )
t{ 0 0 or -> 0 }t                                           ( )
t{ 0 1 or -> 1 }t                                           ( )
t{ 1 0 or -> 1 }t                                           ( )
t{ 1 1 or -> 1 }t                                           ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: xor                                            )
                                                            ( )
." xor "                                                    ( )
                                                            ( )
t{ 0 0 xor -> 0 }t                                          ( )
t{ 0 1 xor -> 1 }t                                          ( )
t{ 1 0 xor -> 1 }t                                          ( )
t{ 1 1 xor -> 0 }t                                          ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: +                                              )
                                                            ( )
." + "                                                      ( )
                                                            ( )
t{  0  5 + ->  5 }t                                         ( )
t{  5  0 + ->  5 }t                                         ( )
t{  0 -5 + -> -5 }t                                         ( )
t{ -5  0 + -> -5 }t                                         ( )
t{  1  2 + ->  3 }t                                         ( )
t{  1 -2 + -> -1 }t                                         ( )
t{ -1  2 + ->  1 }t                                         ( )
t{ -1 -2 + -> -3 }t                                         ( )
t{ -1  1 + ->  0 }t                                         ( )
t{ mid-uint  1 + -> mid-uint+1 }t                           ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: -                                              )
                                                            ( )
." - "                                                      ( )
                                                            ( )
t{          0  5 - ->       -5 }t                           ( )
t{          5  0 - ->        5 }t                           ( )
t{          0 -5 - ->        5 }t                           ( )
t{         -5  0 - ->       -5 }t                           ( )
t{          1  2 - ->       -1 }t                           ( )
t{          1 -2 - ->        3 }t                           ( )
t{         -1  2 - ->       -3 }t                           ( )
t{         -1 -2 - ->        1 }t                           ( )
t{          0  1 - ->       -1 }t                           ( )
t{ mid-uint+1  1 - -> mid-uint }t                           ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: *                                              )
                                                            ( )
." * "                                                      ( )
                                                            ( )
t{  0  0 * ->  0 }t                                         ( )
t{  0  1 * ->  0 }t                                         ( )
t{  1  0 * ->  0 }t                                         ( )
t{  1  2 * ->  2 }t                                         ( )
t{  2  1 * ->  2 }t                                         ( )
t{  3  3 * ->  9 }t                                         ( )
t{ -3  3 * -> -9 }t                                         ( )
t{  3 -3 * -> -9 }t                                         ( )
t{ -3 -3 * ->  9 }t                                         ( )
                                                            ( )
92 load                                                     ( )
(  ---------------------------------------------------------  )
(  Core Tests: /                                              )
                                                            ( )
." / "                                                      ( )
                                                            ( )
    t{       0       1 / ->       0       }t                ( )
    t{       1       1 / ->       1       }t                ( )
    t{       2       1 / ->       2       }t                ( )
    t{      -1       1 / ->      -1       }t                ( )
    t{      -2       1 / ->      -2       }t                ( )
    t{       0      -1 / ->       0       }t                ( )
    t{       1      -1 / ->      -1       }t                ( )
    t{       2      -1 / ->      -2       }t                ( )
    t{      -1      -1 / ->       1       }t                ( )
    t{      -2      -1 / ->       2       }t                ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: / [continued]                                  )
                                                            ( )
    t{       2       2 / ->       1      }t                 ( )
    t{      -1      -1 / ->       1      }t                 ( )
    t{      -2      -2 / ->       1      }t                 ( )
    t{       7       3 / ->       2      }t                 ( )
    t{       7      -3 / ->      -2      }t                 ( )
    t{      -7       3 / ->      -2      }t                 ( )
    t{      -7      -3 / ->       2      }t                 ( )
    t{ max-int       1 / -> max-int      }t                 ( )
    t{ min-int       1 / -> min-int      }t                 ( )
    t{ max-int max-int / -> 1            }t                 ( )
    t{ min-int min-int / -> 1            }t                 ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: */                                             )
                                                            ( )
." */ "                                                     ( )
                                                            ( )
t{       0 2       1 */ ->       0               }t         ( )
t{       1 2       1 */ ->       2               }t         ( )
t{       2 2       1 */ ->       4               }t         ( )
t{      -1 2       1 */ ->      -2               }t         ( )
t{      -2 2       1 */ ->      -4               }t         ( )
t{       0 2      -1 */ ->       0               }t         ( )
t{       1 2      -1 */ ->      -2               }t         ( )
t{       2 2      -1 */ ->      -4               }t         ( )
t{      -1 2      -1 */ ->       2               }t         ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: */ [continued]                                 )
                                                            ( )
t{      -2 2      -1 */ ->       4               }t         ( )
t{       2 2       2 */ ->       2               }t         ( )
t{      -1 2      -1 */ ->       2               }t         ( )
t{      -2 2      -2 */ ->       2               }t         ( )
t{       7 2       3 */ ->       4               }t         ( )
t{       7 2      -3 */ ->      -4               }t         ( )
t{      -7 2       3 */ ->      -4               }t         ( )
t{      -7 2      -3 */ ->       4               }t         ( )
t{ max-int 2 max-int */ ->       2               }t         ( )
t{ min-int 2 min-int */ ->       2               }t         ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: /mod                                           )
                                                            ( )
." /mod " : t/mod over over / >r mod r> ;                   ( )
                                                            ( )
t{       0       1 /mod ->       0       1 t/mod }t         ( )
t{       1       1 /mod ->       1       1 t/mod }t         ( )
t{       2       1 /mod ->       2       1 t/mod }t         ( )
t{      -1       1 /mod ->      -1       1 t/mod }t         ( )
t{      -2       1 /mod ->      -2       1 t/mod }t         ( )
t{       0      -1 /mod ->       0      -1 t/mod }t         ( )
t{       1      -1 /mod ->       1      -1 t/mod }t         ( )
t{       2      -1 /mod ->       2      -1 t/mod }t         ( )
t{      -1      -1 /mod ->      -1      -1 t/mod }t         ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: /mod [continued]                               )
                                                            ( )
t{      -2      -1 /mod ->      -2      -1 t/mod }t         ( )
t{       2       2 /mod ->       2       2 t/mod }t         ( )
t{      -1      -1 /mod ->      -1      -1 t/mod }t         ( )
t{      -2      -2 /mod ->      -2      -2 t/mod }t         ( )
t{       7       3 /mod ->       7       3 t/mod }t         ( )
t{       7      -3 /mod ->       7      -3 t/mod }t         ( )
t{      -7       3 /mod ->      -7       3 t/mod }t         ( )
t{      -7      -3 /mod ->      -7      -3 t/mod }t         ( )
t{ max-int       1 /mod ->       0 max-int       }t         ( )
t{ min-int       1 /mod ->       0 min-int       }t         ( )
t{ max-int max-int /mod ->       0       1       }t         ( )
t{ min-int min-int /mod ->       0       1       }t         ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: 1+ 1-                                          )
                                                            ( )
." 1+ "                                                     ( )
                                                            ( )
    t{        0 1+ ->          1 }t                         ( )
    t{       -1 1+ ->          0 }t                         ( )
    t{        1 1+ ->          2 }t                         ( )
    t{ mid-uint 1+ -> mid-uint+1 }t                    cr   ( )
." 1- "                                                     ( )
                                                            ( )
    t{        2 1- ->          1 }t                         ( )
    t{        1 1- ->          0 }t                         ( )
    t{        0 1- ->         -1 }t                         ( )
    t{ mid-uint+1 1- -> mid-uint }t                         ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: 2+ 2-                                          )
                                                            ( )
." 2+ "                                                     ( )
                                                            ( )
    t{        0 2+ ->          2 }t                         ( )
    t{       -1 2+ ->          1 }t                         ( )
    t{        1 2+ ->          3 }t                    cr   ( )
                                                            ( )
." 2- "                                                     ( )
                                                            ( )
    t{        2 2- ->          0 }t                         ( )
    t{        1 2- ->         -1 }t                         ( )
    t{        0 2- ->         -2 }t                         ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: abs                                            )
                                                            ( )
." abs "                                                    ( )
                                                            ( )
t{       0 abs ->          0 }t                             ( )
t{       1 abs ->          1 }t                             ( )
t{      -1 abs ->          1 }t                             ( )
t{ min-int abs -> mid-uint+1 }t                             ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: max                                            )
                                                            ( )
." max "                                                    ( )
                                                            ( )
t{       0       1 max ->       1 }t                        ( )
t{       1       2 max ->       2 }t                        ( )
t{      -1       0 max ->       0 }t                        ( )
t{      -1       1 max ->       1 }t                        ( )
t{       0       0 max ->       0 }t                        ( )
t{       1       1 max ->       1 }t                        ( )
t{       1       0 max ->       1 }t                        ( )
t{       2       1 max ->       2 }t                        ( )
t{       0      -1 max ->       0 }t                        ( )
t{       1      -1 max ->       1 }t                        ( )
93 load                                                     ( )
(  ---------------------------------------------------------  )
(  Core Tests: min                                            )
                                                            ( )
." min "                                                    ( )
                                                            ( )
t{       0       1 min ->       0 }t                        ( )
t{       1       2 min ->       1 }t                        ( )
t{      -1       0 min ->      -1 }t                        ( )
t{      -1       1 min ->      -1 }t                        ( )
t{       0       0 min ->       0 }t                        ( )
t{       1       1 min ->       1 }t                        ( )
t{       1       0 min ->       0 }t                        ( )
t{       2       1 min ->       1 }t                        ( )
t{       0      -1 min ->      -1 }t                        ( )
t{       1      -1 min ->      -1 }t                        ( )
94 load                                                     ( )
(  ---------------------------------------------------------  )
(  Core Tests: here , ! @                                     )
                                                            ( )
." here , ! @ "                                             ( )
                                                            ( )
here 1 ,                                                    ( )
here 2 ,                                                    ( )
constant 2nd                                                ( )
constant 1st                                                ( )
                                                            ( )
t{       1st 2nd <  -> 1 2 < }t  ( todo u<                    )
t{       1st cell+  -> 2nd   }t                             ( )
t{   1st 1 cells +  -> 2nd   }t                             ( )
t{     1st @ 2nd @  -> 1 2   }t                             ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: here , ! @ [continued]                         )
                                                            ( )
t{         5 1st !  ->       }t                             ( )
t{     1st @ 2nd @  -> 5 2   }t                             ( )
t{         6 2nd !  ->       }t                             ( )
t{     1st @ 2nd @  -> 5 6   }t                             ( )
t{ 1   1st ! 1st @  -> 1     }t  ( can store cell-wide value  )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: +!                                             )
                                                            ( )
." +! "                                                     ( )
                                                            ( )
here 1 ,                                                    ( )
here 2 ,                                                    ( )
constant 2nd                                                ( )
constant 1st                                                ( )
                                                            ( )
t{  0 1st !        ->   }t                                  ( )
t{  1 1st +!       ->   }t                                  ( )
t{    1st @        -> 1 }t                                  ( )
t{ -1 1st +! 1st @ -> 0 }t                                  ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: c, c! c@                                       )
                                                            ( )
." c, c! c@ "                                               ( )
                                                            ( )
here 1 c,                                                   ( )
here 2 c,                                                   ( )
constant 2ndc                                               ( )
constant 1stc                                               ( )
                                                            ( )
t{    1stc 2ndc <  -> <true> }t                ( todo u<      )
t{ 1stc 1+         ->  2ndc  }t                             ( )
t{ 1stc c@ 2ndc c@ ->   1 2  }t                             ( )
t{       3 1stc c! ->        }t                             ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: c, c! c@ [continued]                           )
                                                            ( )
t{ 1stc c@ 2ndc c@ ->   3 2  }t                             ( )
t{       4 2ndc c! ->        }t                             ( )
t{ 1stc c@ 2ndc c@ ->   3 4  }t                             ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: cmove                                          )
                                                            ( )
." cmove "                                                  ( )
                                                            ( )
create fbuf 20 c, 20 c, 20 c,                               ( )
create sbuf 12 c, 34 c, 56 c,                               ( )
: seebuf fbuf c@ fbuf char+ c@ fbuf char+ char+ c@ ;        ( )
                                                            ( )
t{ fbuf fbuf 3 chars cmove seebuf -> 20 20 20 }t            ( )
t{ sbuf fbuf 0 chars cmove seebuf -> 20 20 20 }t            ( )
t{ sbuf fbuf 1 chars cmove seebuf -> 12 20 20 }t            ( )
t{ sbuf fbuf 3 chars cmove seebuf -> 12 34 56 }t            ( )
t{ fbuf char+ fbuf 2 chars cmove seebuf -> 34 56 56 }t      ( )
t{ fbuf fbuf char+ 2 chars cmove seebuf -> 34 34 34 }t      ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: fill                                           )
                                                            ( )
." fill "                                                   ( )
                                                            ( )
create fbuf 00 c, 00 c, 00 c,                               ( )
: seebuf fbuf c@ fbuf char+ c@ fbuf char+ char+ c@ ;        ( )
                                                            ( )
t{ fbuf 0 20 fill seebuf -> 00 00 00 }t                     ( )
t{ fbuf 1 20 fill seebuf -> 20 00 00 }t                     ( )
t{ fbuf 3 20 fill seebuf -> 20 20 20 }t                     ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:  move                                          )
                                                            ( )
." move "                                                   ( )
                                                            ( )
create wbuf 20 , 20 , 20 ,                                  ( )
create rbuf 12 , 34 , 56 ,                                  ( )
: seebuf wbuf @ wbuf cell+ @ wbuf cell+ cell+ @ ;           ( )
                                                            ( )
t{ wbuf wbuf 3 move seebuf -> 20 20 20 }t                   ( )
t{ rbuf wbuf 0 move seebuf -> 20 20 20 }t                   ( )
t{ rbuf wbuf 1 move seebuf -> 12 20 20 }t                   ( )
t{ rbuf wbuf 3 move seebuf -> 12 34 56 }t                   ( )
t{ wbuf cell+ wbuf 2 move seebuf -> 34 56 56 }t             ( )
t{ wbuf wbuf cell+ 2 move seebuf -> 34 34 34 }t             ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: drop                                           )
                                                            ( )
." drop "                                                   ( )
                                                            ( )
t{ 1 2 drop -> 1 }t                                         ( )
t{ 0   drop ->   }t                                         ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: dup                                            )
                                                            ( )
." dup "                                                    ( )
                                                            ( )
t{ 1 dup -> 1 1 }t                                          ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: over                                           )
                                                            ( )
." over "                                                   ( )
                                                            ( )
t{ 1 2 over -> 1 2 1 }t                                     ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: pick                                           )
                                                            ( )
." pick "                                                   ( )
                                                            ( )
t{ 3 1 pick -> 3 3 }t                                       ( )
t{ 4 1 2 pick -> 4 1 4 }t                                   ( )
t{ 5 4 3 2 1 5 pick -> 5 4 3 2 1 5 }t                       ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: roll                                           )
                                                            ( )
." roll "                                                   ( )
                                                            ( )
t{ 1 roll -> }t                                             ( )
t{ 3 4 2 roll -> 4 3 }t                                     ( )
t{ 4 5 6 3 roll -> 5 6 4 }t                                 ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: rot                                            )
                                                            ( )
." rot "                                                    ( )
                                                            ( )
t{ 1 2 3 rot -> 2 3 1 }t                                    ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: swap                                           )
                                                            ( )
." swap "                                                   ( )
                                                            ( )
t{ 1 2 swap -> 2 1 }t                                       ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: ?dup                                           )
                                                            ( )
." ?dup "                                                   ( )
                                                            ( )
t{ -1 ?dup -> -1 -1 }t                                      ( )
t{  0 ?dup ->  0    }t                                      ( )
t{  1 ?dup ->  1  1 }t                                      ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: >r r@ r>                                       )
                                                            ( )
." r> r@ r> "                                               ( )
t{ : gr1 >r r> ; -> }t                                      ( )
t{ : gr2 >r r@ r> drop ; -> }t                              ( )
t{ 123 gr1 -> 123 }t                                        ( )
t{ 123 gr2 -> 123 }t                                        ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: depth                                          )
                                                            ( )
." depth "                                                  ( )
                                                            ( )
t{ 0 1 depth -> 0 1 2 }t                                    ( )
t{   0 depth -> 0 1   }t                                    ( )
t{     depth -> 0     }t                                    ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: begin until                                    )
                                                            ( )
." begin until "                                            ( )
                                                            ( )
t{ : gi4 begin dup 1+ dup 5 > until ; -> }t                 ( )
t{ 3 gi4 -> 3 4 5 6 }t                                      ( )
t{ 5 gi4 -> 5 6 }t                                          ( )
t{ 6 gi4 -> 6 7 }t                                          ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: begin while repeat                             )
                                                            ( )
." begin while repeat "                                     ( )
                                                            ( )
t{ : gi3 begin dup 5 < while dup 1+ repeat ; -> }t          ( )
t{ 0 gi3 -> 0 1 2 3 4 5 }t                                  ( )
t{ 4 gi3 -> 4 5 }t                                          ( )
t{ 5 gi3 -> 5 }t                                            ( )
t{ 6 gi3 -> 6 }t                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: begin while repeat [continued]                 )
                                                            ( )
t{ : gi5 begin dup 2 > while                                ( )
            dup 5 < while dup 1+ repeat                     ( )
        123 else 345 then ; -> }t                           ( )
                                                            ( )
t{ 1 gi5 -> 1 345 }t                                        ( )
t{ 2 gi5 -> 2 345 }t                                        ( )
t{ 3 gi5 -> 3 4 5 123 }t                                    ( )
t{ 4 gi5 -> 4 5 123 }t                                      ( )
t{ 5 gi5 -> 5 123 }t                                        ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: do loop                                        )
                                                            ( )
." do loop "                                                ( )
                                                            ( )
t{ : gd1 do i loop ; -> }t                                  ( )
t{          4        1 gd1 ->  1 2 3   }t                   ( )
t{          2       -1 gd1 -> -1 0 1   }t                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: do +loop                                       )
                                                            ( )
." do +loop "                                               ( )
                                                            ( )
t{ : gd2 do i -1 +loop ; -> }t                              ( )
t{  1 4 gd2 -> 4 3 2  1 }t                                  ( )
t{ -1 2 gd2 -> 2 1 0 -1 }t                                  ( )
                                                            ( )
( There is a subtle difference in the definition of +loop     )
( between FORTH-79 and FORTH-83. The earlier version defines  )
( loop exit as the index being >= the limit -- if inc > 0 --  )
( and < the limit if inc < 0. All later versions define the   )
( exit condition in terms of the index crossing the limit.    )
( 8 of the test cases below were changed for FORTH-79.        )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: +loop [continued]                              )
                                                            ( )
variable gditerations                                       ( )
variable gdincrement                                        ( )
                                                            ( )
: gd7 ( limit start increment -- )                          ( )
    gdincrement !                                           ( )
    0 gditerations !                                        ( )
    do                                                      ( )
        1 gditerations +!                                   ( )
        i                                                   ( )
        gditerations @ 6 = if leave then                    ( )
        gdincrement @                                       ( )
    +loop gditerations @                                    ( )
;                                                    -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: +loop [continued]                              )
                                                            ( )
t{    4  4  -1 gd7 ->  4                  1  }t             ( )
t{    1  4  -1 gd7 ->  4  3  2  1         4  }t             ( )
t{    4  1  -1 gd7 ->  1                  1  }t             ( )
t{    4  1   0 gd7 ->  1  1  1  1   1   1 6  }t             ( )
t{    0  0   0 gd7 ->  0                  1  }t             ( )
t{    1  4   0 gd7 ->  4                  1  }t             ( )
t{    1  4   1 gd7 ->  4                  1  }t             ( )
t{    4  1   1 gd7 ->  1  2  3            3  }t             ( )
t{    4  4   1 gd7 ->  4                  1  }t             ( )
t{    2 -1  -1 gd7 -> -1                  1  }t             ( )
t{   -1  2  -1 gd7 ->  2  1  0 -1         4  }t             ( )
t{    2 -1   0 gd7 -> -1 -1 -1 -1  -1  -1 6  }t             ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: +loop [continued]                              )
                                                            ( )
t{   -1  2   0 gd7 ->  2                  1  }t             ( )
t{   -1  2   1 gd7 ->  2                  1  }t             ( )
t{    2 -1   1 gd7 -> -1 0 1              3  }t             ( )
t{  -20 30 -10 gd7 -> 30 20 10  0 -10 -20 6  }t             ( )
t{  -20 31 -10 gd7 -> 31 21 11  1  -9 -19 6  }t             ( )
t{  -20 29 -10 gd7 -> 29 19  9 -1 -11     5  }t             ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: leave                                          )
                                                            ( )
." leave "                                                  ( )
                                                            ( )
t{ : gd5 123 swap 0 do                                      ( )
        i 4 > if drop 234 leave then                        ( )
    loop ; -> }t                                            ( )
                                                            ( )
t{ 1 gd5 -> 123 }t                                          ( )
t{ 5 gd5 -> 123 }t                                          ( )
t{ 6 gd5 -> 234 }t                                          ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: j                                              )
                                                            ( )
." j "                                                      ( )
                                                            ( )
t{ : gd3 do 1 0 do j loop loop ; -> }t                      ( )
t{          4        1 gd3 ->  1 2 3   }t                   ( )
t{          2       -1 gd3 -> -1 0 1   }t                   ( )
                                                            ( )
t{ : gd4 do 1 0 do j loop -1 +loop ; -> }t                  ( )
t{        1          4 gd4 -> 4 3 2 1             }t        ( )
t{       -1          2 gd4 -> 2 1 0 -1            }t        ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: if else then                                   )
                                                            ( )
." if else then "                                           ( )
                                                            ( )
T{ : GI1 IF 123 THEN ; -> }T                                ( )
T{ : GI2 IF 123 ELSE 234 THEN ; -> }T                       ( )
T{  0 GI1 ->     }T                                         ( )
T{  1 GI1 -> 123 }T                                         ( )
T{ -1 GI1 -> 123 }T                                         ( )
T{  0 GI2 -> 234 }T                                         ( )
T{  1 GI2 -> 123 }T                                         ( )
T{ -1 GI1 -> 123 }T                                         ( )
                                                            ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: if else then [continuted]                      )
                                                            ( )
: melse IF 1 ELSE 2 ELSE 3 ELSE 4 ELSE 5 THEN ;             ( )
T{ <FALSE> melse -> 2 4 }T                                  ( )
T{ <TRUE>  melse -> 1 3 5 }T                                ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: negate                                         )
                                                            ( )
." negate "                                                 ( )
                                                            ( )
t{  0 negate ->  0 }t                                       ( )
t{  1 negate -> -1 }t                                       ( )
t{ -1 negate ->  1 }t                                       ( )
t{  2 negate -> -2 }t                                       ( )
t{ -2 negate ->  2 }t                                       ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: <                                              )
                                                            ( )
." < "                                                      ( )
                                                            ( )
t{       0       1 < -> <true>  }t                          ( )
t{       1       2 < -> <true>  }t                          ( )
t{      -1       0 < -> <true>  }t                          ( )
t{      -1       1 < -> <true>  }t                          ( )
t{       0       0 < -> <false> }t                          ( )
t{       1       1 < -> <false> }t                          ( )
t{       1       0 < -> <false> }t                          ( )
t{       2       1 < -> <false> }t                          ( )
t{       0      -1 < -> <false> }t                          ( )
t{       1      -1 < -> <false> }t                          ( )
90 load                                                     ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: d<                                             )
                                                            ( )
." d< "                                                     ( )
                                                            ( )
t{  0  0  1  0 d< -> <true>  }t                             ( )
t{  0  0  0  0 d< -> <false> }t                             ( )
t{  1  0  0  0 d< -> <false> }t                             ( )
t{ -1 -1  1  0 d< -> <true>  }t                             ( )
t{ -1 -1  0  0 d< -> <true>  }t                             ( )
t{ -2 -1 -1 -1 d< -> <true>  }t                             ( )
t{ -1 -1 -2 -1 d< -> <false> }t                             ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: dnegate                                        )
                                                            ( )
." dnegate "                                                ( )
                                                            ( )
t{  0  0 dnegate ->  0  0 }t                                ( )
t{  1  0 dnegate -> -1 -1 }t                                ( )
t{ -1 -1 dnegate ->  1  0 }t                                ( )
t{ max-2int dnegate -> min-2int swap 1+ swap }t             ( )
t{ min-2int swap 1+ swap dnegate -> max-2int }t             ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Harness Tests                                              )
                                                            ( )
." Testing the test harness: "                           cr ( )
." The next line should say 'incorrect result'"          cr ( )
t{ 1 2 swap -> 1 2 }t                                 cr cr ( )
                                                            ( )
." The next line should say 'wrong number of results.'"  cr ( )
t{ 1 2 swap -> 1 2 1 }t                               cr cr ( )
                                                            ( )
." The next line should just be a period."               cr ( )
t{ 1 2 swap -> 2 1 }t                                 cr cr ( )
                                                            ( )
." Test harness tests complete. "                     cr cr ( )
                                                            ( )
                                                            ( )
(  ---------------------------------------------------------  )
(  Core Tests: u<                                             )
                                                            ( )
." u< "                                                     ( )
                                                            ( )
t{        0        1 u< -> <true>  }t                       ( )
t{        1        2 u< -> <true>  }t                       ( )
t{        0 mid-uint u< -> <true>  }t                       ( )
t{        0 max-uint u< -> <true>  }t                       ( )
t{ mid-uint max-uint u< -> <true>  }t                       ( )
t{        0        0 u< -> <false> }t                       ( )
t{        1        1 u< -> <false> }t                       ( )
t{        1        0 u< -> <false> }t                       ( )
t{        2        1 u< -> <false> }t                       ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: u<                                             )
                                                            ( )
t{ mid-uint        0 u< -> <false> }t                       ( )
t{ max-uint        0 u< -> <false> }t                       ( )
t{ max-uint mid-uint u< -> <false> }t                       ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: u*                                             )
                                                            ( )
." u* "                                                     ( )
                                                            ( )
t{ 0 0 u* -> 0 0 }t                                         ( )
t{ 0 1 u* -> 0 0 }t                                         ( )
t{ 1 0 u* -> 0 0 }t                                         ( )
t{ 1 2 u* -> 2 0 }t                                         ( )
t{ 2 1 u* -> 2 0 }t                                         ( )
t{ 3 3 u* -> 9 0 }t                                         ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: u* [continued]                                 )
                                                            ( )
t{ mid-uint+1 1 rshift 2 u* ->  mid-uint+1 0 }t             ( )
t{ mid-uint+1          2 u* ->           0 1 }t             ( )
t{ mid-uint+1          4 u* ->           0 2 }t             ( )
t{         1s          2 u* -> 1s 1 lshift 1 }t             ( )
t{   max-uint   max-uint u* ->    1 1 invert }t             ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: u/mod                                          )
                                                            ( )
." u/mod "                                                  ( )
                                                            ( )
t{        0            0        1 u/mod -> 0        0 }t    ( )
t{        1            0        1 u/mod -> 0        1 }t    ( )
t{        1            0        2 u/mod -> 1        0 }t    ( )
t{        3            0        2 u/mod -> 1        1 }t    ( )
t{ max-uint        2  u*        2 u/mod -> 0 max-uint }t    ( )
t{ max-uint        2  u* max-uint u/mod -> 0        2 }t    ( )
t{ max-uint max-uint  u* max-uint u/mod -> 0 max-uint }t    ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: =                                              )
                                                            ( )
." = "                                                      ( )
                                                            ( )
t{  0  0 = -> <true>  }t                                    ( )
t{  1  1 = -> <true>  }t                                    ( )
t{ -1 -1 = -> <true>  }t                                    ( )
t{  1  0 = -> <false> }t                                    ( )
t{ -1  0 = -> <false> }t                                    ( )
t{  0  1 = -> <false> }t                                    ( )
t{  0 -1 = -> <false> }t                                    ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: d+                                             )
                                                            ( )
." d+ "                                                     ( )
                                                            ( )
t{  0  0  5  0 d+ ->  5  0 }t                               ( )
t{ -5 -1  0  0 d+ -> -5 -1 }t                               ( )
t{  1  0  2  0 d+ ->  3  0 }t                               ( )
t{  1  0 -1 -1 d+ ->  0  0 }t                               ( )
t{ -1 -1  2  0 d+ ->  1  0 }t                               ( )
t{ -1 -1 -2 -1 d+ -> -3 -1 }t                               ( )
t{ -1 -1  1  0 d+ ->  0  0 }t                               ( )
t{  0  0  0  5 d+ ->  0  5 }t                               ( )
t{ -1  5  0  0 d+ -> -1  5 }t                               ( )
t{  0  0  0 -5 d+ ->  0 -5 }t                               ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: d+ [continued]                                 )
                                                            ( )
t{  0 -5 -1  0 d+ -> -1 -5 }t                               ( )
t{  0  1  0  2 d+ ->  0  3 }t                               ( )
t{ -1  1  0 -2 d+ -> -1 -1 }t                               ( )
t{  0 -1  0  2 d+ ->  0  1 }t                               ( )
t{  0 -1 -1 -2 d+ -> -1 -3 }t                               ( )
t{ -1 -1  0  1 d+ -> -1  0 }t                               ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: d+ [continued]                                 )
                                                            ( )
t{ min-int  0 min-int 0 d+ -> 0 1 }t                        ( )
t{ min-int -1 min-int 0 d+ -> 0 0 }t                        ( )
                                                            ( )
t{  hi-2int     1  0 d+ -> 0 hi-int 1+ }t                   ( )
t{  hi-2int  hi-2int d+ -> 1s 1- max-int }t                 ( )
t{ max-2int min-2int d+ -> -1 -1 }t                         ( )
t{ max-2int  lo-2int d+ -> hi-2int }t                       ( )
t{  lo-2int  lo-2int d+ -> min-2int }t                      ( )
t{  hi-2int min-2int d+ 1 0 d+ -> lo-2int }t                ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: < [continued]                                  )
                                                            ( )
t{ min-int       0 < -> <true>  }t                          ( )
t{ min-int max-int < -> <true>  }t                          ( )
t{       0 max-int < -> <true>  }t                          ( )
                                                            ( )
t{       0 min-int < -> <false> }t                          ( )
t{ max-int min-int < -> <false> }t                          ( )
t{ max-int       0 < -> <false> }t                          ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: > [continued]                                  )
                                                            ( )
t{ min-int       0 > -> <false> }t                          ( )
t{ min-int max-int > -> <false> }t                          ( )
t{       0 max-int > -> <false> }t                          ( )
                                                            ( )
t{       0 min-int > -> <true>  }t                          ( )
t{ max-int min-int > -> <true>  }t                          ( )
t{ max-int       0 > -> <true>  }t                          ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: * [continued]                                  )
                                                            ( )
t{ mid-uint+1 1 rshift 2 *               -> mid-uint+1 }t   ( )
t{ mid-uint+1 2 rshift 4 *               -> mid-uint+1 }t   ( )
t{ mid-uint+1 1 rshift mid-uint+1 or 2 * -> mid-uint+1 }t   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: max [continued]                                )
                                                            ( )
t{ min-int       0 max ->       0 }t                        ( )
t{ min-int max-int max -> max-int }t                        ( )
t{       0 max-int max -> max-int }t                        ( )
                                                            ( )
t{       0 min-int max ->       0 }t                        ( )
t{ max-int min-int max -> max-int }t                        ( )
t{ max-int       0 max -> max-int }t                        ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: min [continued]                                )
                                                            ( )
t{ min-int       0 min -> min-int }t                        ( )
t{ min-int max-int min -> min-int }t                        ( )
t{       0 max-int min ->       0 }t                        ( )
                                                            ( )
t{       0 min-int min -> min-int }t                        ( )
t{ max-int min-int min -> min-int }t                        ( )
t{ max-int       0 min ->       0 }t                        ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: */mod                                          )
                                                            ( )
." */mod " : t*/mod >r * r> over over / >r mod r> ;         ( )
                                                            ( )
t{       0 2       1 */mod ->       0 2       1 t*/mod }t   ( )
t{       1 2       1 */mod ->       1 2       1 t*/mod }t   ( )
t{       2 2       1 */mod ->       2 2       1 t*/mod }t   ( )
t{      -1 2       1 */mod ->      -1 2       1 t*/mod }t   ( )
t{      -2 2       1 */mod ->      -2 2       1 t*/mod }t   ( )
t{       0 2      -1 */mod ->       0 2      -1 t*/mod }t   ( )
t{       1 2      -1 */mod ->       1 2      -1 t*/mod }t   ( )
t{       2 2      -1 */mod ->       2 2      -1 t*/mod }t   ( )
t{      -1 2      -1 */mod ->      -1 2      -1 t*/mod }t   ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: */mod [continued]                              )
                                                            ( )
t{      -2 2      -1 */mod ->      -2 2      -1 t*/mod }t   ( )
t{       2 2       2 */mod ->       2 2       2 t*/mod }t   ( )
t{      -1 2      -1 */mod ->      -1 2      -1 t*/mod }t   ( )
t{      -2 2      -2 */mod ->      -2 2      -2 t*/mod }t   ( )
t{       7 2       3 */mod ->       7 2       3 t*/mod }t   ( )
t{       7 2      -3 */mod ->       7 2      -3 t*/mod }t   ( )
t{      -7 2       3 */mod ->      -7 2       3 t*/mod }t   ( )
t{      -7 2      -3 */mod ->      -7 2      -3 t*/mod }t   ( )
t{ max-int 2 max-int */mod ->       0 2                }t   ( )
t{ min-int 2 min-int */mod ->       0 2                }t   ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: mod                                            )
                                                            ( )
." mod "                                                    ( )
                                                            ( )
t{       0       1 mod ->       0 }t                        ( )
t{       1       1 mod ->       0 }t                        ( )
t{       2       1 mod ->       0 }t                        ( )
t{      -1       1 mod ->       0 }t                        ( )
t{      -2       1 mod ->       0 }t                        ( )
t{       0      -1 mod ->       0 }t                        ( )
t{       1      -1 mod ->       0 }t                        ( )
t{       2      -1 mod ->       0 }t                        ( )
t{      -1      -1 mod ->       0 }t                        ( )
                                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests: mod [continued]                                )
                                                            ( )
t{      -2      -1 mod ->       0 }t                        ( )
t{       2       2 mod ->       0 }t                        ( )
t{      -1      -1 mod ->       0 }t                        ( )
t{      -2      -2 mod ->       0 }t                        ( )
t{       7       3 mod ->       1 }t                        ( )
t{       7      -3 mod ->       1 }t                        ( )
t{      -7       3 mod ->      -1 }t                        ( )
t{      -7      -3 mod ->      -1 }t                        ( )
t{ max-int       1 mod ->       0 }t                        ( )
t{ min-int       1 mod ->       0 }t                        ( )
t{ max-int max-int mod ->       0 }t                        ( )
t{ min-int min-int mod ->       0 }t                        ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: >                                              )
                                                            ( )
." > "                                                      ( )
                                                            ( )
t{       0       1 > -> <false> }t                          ( )
t{       1       2 > -> <false> }t                          ( )
t{      -1       0 > -> <false> }t                          ( )
t{      -1       1 > -> <false> }t                          ( )
t{       0       0 > -> <false> }t                          ( )
t{       1       1 > -> <false> }t                          ( )
t{       1       0 > -> <true>  }t                          ( )
t{       2       1 > -> <true>  }t                          ( )
t{       0      -1 > -> <true>  }t                          ( )
t{       1      -1 > -> <true>  }t                          ( )
91 load                                                     ( )
(  ---------------------------------------------------------  )
(  Core Tests: :                                              )
                                                            ( )
." : "                                                      ( )
                                                            ( )
t{ : nop : [ ' ; compile, ] ; -> }t                         ( )
t{ nop nop1 nop nop2 -> }t                                  ( )
t{ nop1 -> }t                                               ( )
t{ nop2 -> }t                                               ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: constant                                       )
                                                            ( )
." constant "                                               ( )
                                                            ( )
t{ 123 constant x123 -> }t                                  ( )
t{ x123 -> 123 }t                                           ( )
                                                            ( )
t{ : equ constant ; -> }t                                   ( )
t{ x123 equ y123 -> }t                                      ( )
t{ y123 -> 123 }t                                           ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: variable                                       )
                                                            ( )
." variable "                                               ( )
                                                            ( )
t{ variable v1 ->     }t                                    ( )
t{    123 v1 ! ->     }t                                    ( )
t{        v1 @ -> 123 }t                                    ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: does>                                          )
                                                            ( )
." does> "                                                  ( )
                                                            ( )
t{ : does1 does> @ 1 + ; -> }t                              ( )
t{ : does2 does> @ 2 + ; -> }t                              ( )
t{ create cr1 -> }t                                         ( )
t{ cr1   -> here }t                                         ( )
t{ 1 ,   ->   }t                                            ( )
t{ cr1 @ -> 1 }t                                            ( )
t{ does1 ->   }t                                            ( )
t{ cr1   -> 2 }t                                            ( )
t{ does2 ->   }t                                            ( )
t{ cr1   -> 3 }t                                            ( )
                                                     -->    ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
t{ : weird: create does> 1 + does> 2 + ; -> }t              ( )
t{ weird: w1 -> }t                                          ( )
t{ w1 -> here 1 + }t                                        ( )
t{ w1 -> here 2 + }t                                        ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: ' execute                                      )
                                                            ( )
." ' execute "                                              ( )
                                                            ( )
t{ : gt1 123 ;   ->     }t                                  ( )
t{ ' gt1 execute -> 123 }t                                  ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: find                                           )
                                                            ( )
." find "                                                   ( )
                                                            ( )
: f1 123 ;                                                  ( )
                                                            ( )
here 2 c, 102 c, 49 c, constant f1string                    ( )
t{ f1string find -> ' f1 }t                                 ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: 0=                                             )
                                                            ( )
." 0= "                                                     ( )
                                                            ( )
    t{       0 0= -> <true>  }t                             ( )
    t{       1 0= -> <false> }t                             ( )
    t{       2 0= -> <false> }t                             ( )
    t{      -1 0= -> <false> }t                             ( )
                                                            ( )
    t{ max-uint 0= -> <false> }t                            ( )
    t{ min-int  0= -> <false> }t                            ( )
    t{ max-int  0= -> <false> }t                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: hold                                           )
                                                            ( )
." hold "                                                   ( )
                                                            ( )
: gp1                                                       ( )
    <# 41 hold 42 hold 0 0 #>                               ( )
    2 = swap                                                ( )
    dup c@ 42 = swap                                        ( )
    1+ c@ 41 =                                              ( )
    and and ;                                               ( )
                                                            ( )
t{ gp1 -> <true> }t                                         ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: sign                                           )
                                                            ( )
." sign "                                                   ( )
                                                            ( )
: gp2                                                       ( )
    <# -1 sign 0 sign -1 sign 0 0 #>                        ( )
    2 = swap                                                ( )
    dup c@ 45 = swap                                        ( )
    1+ c@ 45 =                                              ( )
    and and ;                                               ( )
                                                            ( )
t{ gp2 -> <true> }t                                         ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: #                                              )
                                                            ( )
." # "                                                      ( )
                                                            ( )
: gp3                                                       ( )
    <# 1 0 # # #>                                           ( )
    2 = swap                                                ( )
    dup c@ 48 = swap                                        ( )
    1+ c@ 49 =                                              ( )
    and and ;                                               ( )
                                                            ( )
t{ gp3 -> <true> }t                                         ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests:                                                )
                                                            ( )
."      "                                                   ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: comments                                       )
                                                            ( )
." comments "                                               ( )
                                                            ( )
t{ ( a comment)1234 -> 1234 }t                              ( )
t{ : pc1 ( a comment)1234 ; pc1 -> 1234 }t                  ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
(  Core Tests: ." : ;                                         )
                                                            ( )
." <dot quote> "                                            ( )
                                                            ( )
t{ : pb1 ." you should see 2345: "." 2345"; pb1 -> }t       ( )
                                                            ( )
cr                                                          ( )
                                                            ( )
." : ; "                                                    ( )
                                                            ( )
t{ : gdx   123 ;    : gdx   gdx 234 ; -> }t                 ( )
t{ gdx -> 123 234 }t                                        ( )
                                                            ( )
                                                            ( )
cr                                                          ( )
(  ---------------------------------------------------------  )
